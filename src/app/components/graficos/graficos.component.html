<div class="dashboard-container" *ngIf="!cargando">
  <!-- Tarjetas de estadísticas -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon ventas">
        <i class="bi bi-currency-dollar"></i>
      </div>
      <div class="stat-info">
        <h3>{{ formatearMoneda(dashboardData?.estadisticasGenerales?.ventasTotales || 0) }}</h3>
        <p>Ventas Totales</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon pedidos">
        <i class="bi bi-cart-check-fill"></i>
      </div>
      <div class="stat-info">
        <h3>{{ dashboardData?.estadisticasGenerales?.totalPedidos || 0 }}</h3>
        <p>Total de Pedidos</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon hoy">
        <i class="bi bi-clock-fill"></i>
      </div>
      <div class="stat-info">
        <h3>{{ dashboardData?.estadisticasGenerales?.pedidosHoy || 0 }}</h3>
        <p>Pedidos Hoy</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon promedio">
        <i class="bi bi-graph-up-arrow"></i>
      </div>
      <div class="stat-info">
        <h3>{{ formatearMoneda(dashboardData?.estadisticasGenerales?.promedioVentaPorPedido || 0) }}</h3>
        <p>Promedio por Pedido</p>
      </div>
    </div>
  </div>

  <!-- Gráficos -->
  <div class="charts-grid">
    <!-- Gráfico de líneas -->
    <div class="chart-card chart-large">
      <canvas baseChart
        [data]="lineChartData"
        [options]="lineChartOptions"
        type="line">
      </canvas>
    </div>

    <!-- Gráfico de dona -->
    <div class="chart-card">
      <canvas baseChart
        [data]="{ labels: doughnutChartLabels, datasets: doughnutChartDatasets }"
        [options]="doughnutChartOptions"
        type="doughnut">
      </canvas>
    </div>

    <!-- Gráfico de barras -->
    <div class="chart-card">
      <canvas baseChart
        [data]="{ labels: barChartLabels, datasets: barChartDatasets }"
        [options]="barChartOptions"
        type="bar">
      </canvas>
    </div>
  </div>
</div>

<!-- Loading spinner -->
<div *ngIf="cargando" class="loading-container">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Cargando...</span>
  </div>
  <p class="mt-3">Cargando datos del dashboard...</p>
</div>